{% extends "admin/layouts/base.html" %}
{% block content %}
<ul id="imagelist">
{% for im in images %}
  <li data-url="{{ im }}">
    <a href="#" class="imglink">
      <img src="{{ im }}">
    </a>
    <button class="copymd icon" title="Copy markdown link" data-url="{{ im }}">
      <svg data-url="{{ im }}" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
    </button>
  </li>
{% endfor %}
</ul>
<script>
  document.querySelectorAll(".copymd").forEach(el => {
    el.addEventListener("click", function(ev) {
      const url = ev.target.dataset.url;
      const md = `![alt text](${url})`;
      navigator.clipboard.writeText(md);
      console.log('Copied');
    })
  })
</script>
<style>
  #imagelist {
    display: flex;
    flex-wrap: wrap;
    list-style: none;
  }
  #imagelist li {
    margin: 5px 5px 35px;
    background: rgb(7, 50, 83);
    display: flex;
    flex-direction: column;
    position: relative;
  }
  #imagelist li a {
    padding: 10px;
    border-radius: 3px;
    display: block;
    display: flex;
    align-items: center;
    height: 100%;
  }
  #imagelist li a:hover {
    background-color: rgb(8, 32, 50);
  }
  #imagelist button {
    position: absolute;
    right: 0;
    bottom: -28px;
  }
</style>
{% endblock %}